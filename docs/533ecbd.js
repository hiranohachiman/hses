(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{262:function(e,t,n){"use strict";n.r(t);n(258);var r={name:"BuefyCard",components:{VueEllipseProgress:n(133).VueEllipseProgress},props:{progress:{type:Number,required:!0},count:{type:Number,required:!0}},created:function(){},data:function(){return{gradient:{radial:!1,colors:[{color:"#6546f7",offset:"0",opacity:"1"},{color:"lime",offset:"100",opacity:"0.6"}]}}}},o=n(42),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mx-auto items-center"},[t("div",{staticClass:"max-w-xl mx-auto text-center"},[t("p",{staticClass:"text-2xl mt-5 mb-5"},[e._v(" Cited by ")]),e._v(" "),t("vue-ellipse-progress",{attrs:{data:e.circles,progress:e.progress,angle:-90,color:e.gradient,size:200,lineMode:"normal",legend:!0,legendClass:"legend-custom-style",animation:"reverse 700 400",noData:!1,loading:!1,fontColor:"#000",half:!1,gap:10,reverse:"",colorFill:e.colorFillGradient,legendValue:100,thickness:10}},[t("p",{staticClass:"text-4xl"},[e._v(e._s(e.count))])])],1)])}),[],!1,null,null,null);t.default=component.exports},307:function(e,t,n){"use strict";n.r(t);n(59),n(43),n(60),n(36),n(35),n(61),n(62),n(37);var r=n(12),o=(n(18),n(27),n(186),n(278),n(58),n(262));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d=n(280),f={name:"IndexPage",components:{Card:o.default},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,l,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$route.params.page,r=e.$route.query.username,!(n<=0||n>8)){t.next=5;break}return e.$buefy.toast.open({message:"不正なURLです",type:"is-danger"}),t.abrupt("return");case 5:if(o=e.getCookie("current"),console.log("saved:",o),!o){t.next=11;break}e.items=o,t.next=23;break;case 11:return e.isLoading=!0,t.next=14,e.callApi("fetchid?username="+r);case 14:return l=t.sent,c=parseInt(l)+10*(parseInt(n)-1),console.log("index",c),t.next=19,e.callApi("fetch?index="+c);case 19:d=t.sent,console.log("items",d),e.items=d,e.isLoading=!1;case 23:e.page=n,e.nextLink=8!=n?"/exp/"+(parseInt(n)+1)+"?username="+r:"/term",console.log(e.items),e.startTime=new Date;case 27:case"end":return t.stop()}}),t)})))()},methods:{execute:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.fullFill()){t.next=3;break}return e.$buefy.toast.open({message:"全ての項目に回答してください",type:"is-danger"}),t.abrupt("return");case 3:return e.isLoading=!0,t.next=6,e.sendResults();case 6:e.eraseCookie("current"),e.isLoading=!1,e.$router.push(e.nextLink);case 9:case"end":return t.stop()}}),t)})))()},fullFill:function(){for(var i=0;i<this.radio.length;i++)if("-1"==this.radio[i])return!1;return!0},sendResults:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,time,r,body,i,o,l,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=new Date,time=(n-e.startTime)/1e3,console.log("time",time),e.$buefy.toast.open({message:"結果を送信しています",type:"is-success"}),r=e.$route.query.username,body=[],i=0;i<e.items.length;i++)o={username:r,caption_id:e.items[i].id,type:"M3",mos:parseInt(e.radio[i]),time:time},body.push(o);return l=e.getApiUrl("aggregate"),t.next=10,d.post(l,body);case 10:c=t.sent,f=JSON.parse(JSON.stringify(c.data)),console.log("aggregate:",f);case 13:case"end":return t.stop()}}),t)})))()},getApiUrl:function(e){return"https://patrick-back-f238203eb2a4.herokuapp.com/"+e},callApi:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.getApiUrl(e),n.next=3,fetch(r);case 3:return o=n.sent,n.next=6,o.json();case 6:return l=n.sent,t.saveCookie("current",l),n.abrupt("return",l);case 9:case"end":return n.stop()}}),n)})))()},getCookie:function(e){var t,n=l(document.cookie.split(";"));try{for(n.s();!(t=n.n()).done;){var r=t.value.split("="),o=r[0],c=r[1];if(console.log("cookie",'"'+o+'"','"'+e+'"'),o==e)return JSON.parse(decodeURIComponent(c))}}catch(e){n.e(e)}finally{n.f()}},saveCookie:function(e,t){document.cookie=e+"="+encodeURIComponent(JSON.stringify(t))},eraseCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC;"}},data:function(){return{isLoading:!1,mainDescription:"文章がどれほど画像の特徴を捉えているかを5段階で評価してください。",instruction:null,radio:Array(10).fill("-1"),items:[],page:-1,nextLink:"exp/2",startTime:null}}},v=n(42),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"bg-gray-50"},[t("div",{staticClass:"px-4 pt-16 mx-auto max-w-screen-xl lg:h-4/6 lg:items-center lg:flex"},[t("div",{staticClass:"max-w-xl mx-auto"},[t("p",{staticClass:"text-center font-bold"}),e._v(" "),t("p",{staticClass:"text-center text-2xl font-bold"},[e._v(e._s(e.mainDescription))]),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"mt-10 mb-5 text-center"},[t("b-loading",{attrs:{"is-full-page":!1,"can-cancel":!1},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),e._v(" "),e._l(e.items,(function(n,r){return t("div",{staticClass:"flex-col mt-5 p-5 border border-gray-200 rounded-2xl shadow-2xl"},[t("div",[t("video",{staticClass:"mx-auto",staticStyle:{"max-height":"80vh"},attrs:{src:n.url,controls:"",loop:""}})]),e._v(" "),t("div",{staticClass:"mx-auto mt-4 font-bold"},[e._v("\n              "+e._s(n.caption)+"\n            ")]),e._v(" "),t("div",{staticClass:"mx-auto mt-4 block"},[t("b-radio",{attrs:{"native-value":"5",type:"is-info"},model:{value:e.radio[r],callback:function(t){e.$set(e.radio,r,t)},expression:"radio[index]"}},[e._v("\n                とても良い\n              ")]),e._v(" "),t("b-radio",{attrs:{"native-value":"4",type:"is-info"},model:{value:e.radio[r],callback:function(t){e.$set(e.radio,r,t)},expression:"radio[index]"}},[e._v("\n                良い\n              ")]),e._v(" "),t("b-radio",{attrs:{"native-value":"3",type:"is-info"},model:{value:e.radio[r],callback:function(t){e.$set(e.radio,r,t)},expression:"radio[index]"}},[e._v("\n                普通\n              ")]),e._v(" "),t("b-radio",{attrs:{"native-value":"2",type:"is-info"},model:{value:e.radio[r],callback:function(t){e.$set(e.radio,r,t)},expression:"radio[index]"}},[e._v("\n                悪い\n              ")]),e._v(" "),t("b-radio",{attrs:{"native-value":"1",type:"is-info"},model:{value:e.radio[r],callback:function(t){e.$set(e.radio,r,t)},expression:"radio[index]"}},[e._v("\n                とても悪い\n              ")])],1),e._v(" "),null!=e.instruction?t("p",{staticClass:"my-auto"},[e._v("\n              "+e._s(e.instruction)+"\n            ")]):e._e()])}))],2),e._v(" "),t("div",{staticClass:"text-center"},[t("b-button",{attrs:{type:"is-primary"},on:{click:e.execute}},[e._v("次へ")]),e._v(" "),t("p",[e._v("("+e._s(e.page)+" / 8)")])],1)])])])}),[function(){var e=this,t=e._self._c;return t("ul",{staticClass:"mt-5"},[t("li",[e._v("・基本的に加点/減点方式で評価してください。")]),e._v(" "),t("li",[e._v("・無関係な単語は減点です。")]),e._v(" "),t("li",[e._v("・重要な要素が抜けている場合は減点してください。")]),t("li"),t("li",[e._v("・詳細で的確であれば「とても良い」と評価してください。")]),e._v(" "),t("li",[e._v("・動画に音はありません")])])}],!1,null,null,null);t.default=component.exports}}]);